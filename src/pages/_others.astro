---
import partners from "../data/partners.json";

type ShowcasedPartner = {
  business: string;
  description: string;
  name: string;
  logo: string;
};

type OtherPartner = {
  business: string;
  logo: string;
};

function isOtherPartner(
  partner: ShowcasedPartner | OtherPartner
): partner is OtherPartner {
  return !("description" in partner);
}

const otherPartners = partners.filter((partner) => isOtherPartner(partner));
---

<section class="container">
  <div class="sectionheader">
    <h3 class="text-center">Muita tyÃ¶kumppaneita</h3>
  </div>
  <div
    class="relative flex flex-wrap gap-5 justify-center mx-auto py-4 md:px-16"
  >
    {
      otherPartners.map((partner) => (
        <div 
          class="relative w-32 aspect-[3/2] bg-primary-900 rounded-lg shadow-neutral-900 
          shadow-lg py-4 px-5 group">
          <img
            class="w-full h-full object-contain"
            src={`./businesses/${partner.logo}`}
            alt={`yrityksen ${partner.logo} -logo`}
          />
          <p 
            class="absolute -bottom-10 left-1/2 -translate-x-1/2 w-full py-1 px-2 bg-primary-900
            rounded-lg text-center z-10 opacity-0 transition-all ease-in-out group-hover:opacity-100">
            {partner.business}
          </p>
        </div>
      ))
    }
    <div
      class="absolute w-1/3 h-full left-0 bg-gradient-to-r from-primary to-transparent"
    >
    </div>
    <div
      class="absolute w-1/3 h-full right-0 bg-gradient-to-l from-primary to-transparent"
    >
    </div>
  </div>
</section>
